-- 创建数据库
CREATE DATABASE IF NOT EXISTS task_management CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

USE task_management;

-- 创建用户表
CREATE TABLE IF NOT EXISTS user (
id BIGINT AUTO_INCREMENT PRIMARY KEY,
user_name VARCHAR(50) NOT NULL UNIQUE,
email VARCHAR(100) NOT NULL UNIQUE,
password VARCHAR(255) NOT NULL,
created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
deleted INT DEFAULT 0,
INDEX idx_user_name (user_name),
INDEX idx_email (email),
INDEX idx_deleted (deleted)
);

-- 创建项目表
CREATE TABLE IF NOT EXISTS project (
id BIGINT AUTO_INCREMENT PRIMARY KEY,
name VARCHAR(100) NOT NULL,
description TEXT,
owner_id BIGINT NOT NULL,
created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
deleted INT DEFAULT 0,
INDEX idx_owner_id (owner_id),
INDEX idx_deleted (deleted)
);

-- 创建任务表
CREATE TABLE IF NOT EXISTS task (
id BIGINT AUTO_INCREMENT PRIMARY KEY,
title VARCHAR(200) NOT NULL,
description TEXT,
status VARCHAR(20) NOT NULL DEFAULT 'TODO',
priority VARCHAR(20) NOT NULL DEFAULT 'MEDIUM',
project_id BIGINT NOT NULL,
created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
deleted INT DEFAULT 0,
INDEX idx_project_id (project_id),
INDEX idx_status (status),
INDEX idx_priority (priority),
INDEX idx_deleted (deleted)
); 
![截屏2025-06-22 12.08.28.png](../../../Desktop/%E6%88%AA%E5%B1%8F2025-06-22%2012.08.28.png)
